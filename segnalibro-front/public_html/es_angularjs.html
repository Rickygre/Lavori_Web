<!DOCTYPE html>
<html>
    <head>
        <title>***Angular Example***</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
        <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
        <script src="JS/angularJS.js"></script>
        <script src="JS/jwt-decode.js"></script>
        
    </head>
    <body style="background-color:lightblue" 
          ng-app="myApp" >
        <div class="container" ng-controller="loginCtrl">
            <h4>Utente connesso:<span>{{loggedusr}}</span></h4>

            <div id="divlogin" ng-hide="logged"> 
                <h2>Form Login</h2>


                <form name="flogin">
                    <div class="form-group">
                        <label for="usr">Usr:</label>
                        <input ng-model="usr" type="text" class="form-control" id="usr" placeholder="Enter user" name="usr" required>
                        <span ng-show="flogin.usr.$error.required">campo richiesto</span>
                    </div>
                    <div class="form-group">
                        <label for="pwd">Password:</label>
                        <input ng-model="pwd" type="password" class="form-control" id="pwd" placeholder="Enter password" name="pswd" required>
                        <span ng-show="flogin.pwd.$error.required"> campo richiesto </span>
                    </div>               
                    <button ng-disabled="flogin.usr.$dirty && flogin.usr.$invalid ||
                                flogin.pwd.$dirty && flogin.pwd.$invalid" ng-click="login()" class="btn btn-primary"> Submit </button>
                </form>
            </div>
            <div id="divlogged" ng-show="logged">  
                <h3>Elenco di Bookmarks </h3>
                <table ng-repeat="bk in bookmarks">
                    <tr>
                        <th>id</th>
                        <th>title</th>
                        <th>description</th>
                        <th>url</th>
                    </tr>
                    <tr>
                        <td>{{ bk.id}}</td> 
                        <td>{{ bk.title}}</td> 
                        <td>{{ bk.description}}</td>
                        <td>{{ bk.url}}</td> 
                    </tr>

                </table>
            </div>
        </div>
    </body>
</html>

